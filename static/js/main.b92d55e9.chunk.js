(this["webpackJsonpra-9-2"]=this["webpackJsonpra-9-2"]||[]).push([[0],{1110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),o=a.n(r),s=(a(40),a(10)),i=a(11),l=a(13),m=a(12),u=a(6),d=a(8),p=a(7),h=a.n(p),v=a(17),E=a.n(v),g=a(32),f=a.n(g),b=function(e){var t=e.content,a=e.created,n=e.children;return c.a.createElement("div",{className:"ui centered card"},c.a.createElement("div",{className:"ui medium circular image"},c.a.createElement("img",{src:E.a.image.avatar(),alt:"avatar"})),c.a.createElement("div",{className:"content"},c.a.createElement("span",{href:"#",className:"ui red horizontal label"},E.a.name.firstName()),c.a.createElement("div",{className:"metadata"},c.a.createElement("span",{className:"ui purple horizontal label"},f()(a).format("DD.MM.YYYY HH:mm:ss"))),c.a.createElement("div",{className:"text"},t),c.a.createElement("div",{className:"actions"},n)))},N=function(){return c.a.createElement("div",{class:"ui progress"},c.a.createElement("div",{class:"bar"},c.a.createElement("div",{class:"progress"})),c.a.createElement("div",{class:"label"},"Uploading Files"))},j=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={posts:[],loading:!0},e.setData=function(t){e.setState({posts:t,loading:!1})},e.getPosts=function(){h.a.get("".concat("https://ra-9-2-server.herokuapp.com","/posts")).then((function(t){return e.setData(t.data)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){var e=this.state,t=e.posts;return e.loading?c.a.createElement(N,null):c.a.createElement("div",{className:"ui comments"},t.map((function(e){return c.a.createElement(b,Object.assign({key:e.id},e),c.a.createElement(u.b,{to:"/posts/".concat(e.id),className:"ui teal tag label"},"\u041f\u043e\u0431\u0440\u043e\u0431\u043d\u0435\u0435"))})))}}]),a}(c.a.Component),O=a(15),k=function(e){var t=e.content,a=e.onSubmit,r=e.children,o=Object(n.useState)(""),s=Object(O.a)(o,2),i=s[0],l=s[1],m=Object(n.useState)(!1),u=Object(O.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){t&&l(t)}),[t]);return d?c.a.createElement(N,null):c.a.createElement("form",{className:"ui form"},c.a.createElement("div",{className:"field"},c.a.createElement("textarea",{onChange:function(e){var t=e.target.value;l(t)},value:i})),c.a.createElement("div",{className:"ui green labeled submit icon button",onClick:function(e){return t=e,p(!0),t.preventDefault(),void a(i);var t}},c.a.createElement("i",{className:"hand pointer blue icon"})," \u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"),r)},y=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],r=t[1];return a?c.a.createElement(d.a,{to:"/"}):c.a.createElement(k,{onSubmit:function(e){h.a.post("".concat("https://ra-9-2-server.herokuapp.com","/posts"),{id:0,content:e}).then((function(){return r(!0)})).catch((function(e){console.log(e.message)}))}})},w=function(){return c.a.createElement("div",{className:"ui icon message"},c.a.createElement("i",{className:"power off red icon"}),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"header"},"\u041e\u0448\u0438\u0431\u043a\u0430 404"),c.a.createElement("p",null,"\u0418\u0437\u0432\u0438\u043d\u0438, \u0434\u0440\u0443\u0433. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u043b\u0438, \u043d\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u0432\u044b \u043f\u043e\u043f\u0430\u043b\u0438 \u043d\u0430 \u0431\u0438\u0442\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u0438\u043b\u0438 \u043e\u043f\u0435\u0447\u0430\u0442\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 URL")))},S=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={post:null,deleted:!1,editing:!1,loading:!0},e.toggleEditing=function(){e.setState((function(e){return{editing:!e.editing}}))},e.handleDelete=function(){e.setState({loading:!0});var t=e.props.match.params;h.a.delete("".concat("https://ra-9-2-server.herokuapp.com","/posts/").concat(t.id)).then((function(){return e.setState({deleted:!0})})).catch((function(e){console.log(e.message)}))},e.handleEdit=function(t){h.a.post("".concat("https://ra-9-2-server.herokuapp.com","/posts"),{id:e.state.post.id,content:t}).then((function(){return e.props.history.go(0)})).catch((function(e){console.log(e.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=Number(t.id);h.a.get("".concat("https://ra-9-2-server.herokuapp.com","/posts")).then((function(t){var n=t.data.find((function(e){return e.id===a}));e.setState({post:n,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.post,n=t.deleted,r=t.editing,o=t.loading;return n?c.a.createElement(d.a,{to:"/"}):r?c.a.createElement(k,{content:a.content,onSubmit:this.handleEdit},c.a.createElement("div",{className:"ui red button",onClick:function(){return e.toggleEditing()}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")):void 0===a?c.a.createElement(w,null):o?c.a.createElement(N,null):(console.log(this.state),c.a.createElement("div",{className:"ui comments"},c.a.createElement(b,a,c.a.createElement("button",{className:"ui brown basic button",onClick:this.toggleEditing},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),c.a.createElement("button",{className:"ui red basic button",onClick:this.handleDelete},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),a}(c.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui raised very padded text container segment"},c.a.createElement(u.a,null,c.a.createElement("div",{className:"ui basic segment"},c.a.createElement("div",{className:"ui center aligned segment"},c.a.createElement(u.b,{to:"/",className:"ui icon button"},c.a.createElement("i",{className:"home orange icon"})),c.a.createElement(u.b,{to:"/posts/new",className:"positive ui button"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"))),c.a.createElement("div",{className:"ui basic segment"},c.a.createElement(d.d,null,c.a.createElement(d.b,{path:"/posts/new",component:y}),c.a.createElement(d.b,{path:"/posts/:id",component:S}),c.a.createElement(d.b,{path:"/",exact:!0,component:j}),c.a.createElement(d.b,{path:"*",component:w})))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,a){e.exports=a(1110)},40:function(e,t,a){}},[[35,1,2]]]);
//# sourceMappingURL=main.b92d55e9.chunk.js.map